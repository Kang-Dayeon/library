<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./css/style.css">
  <title>Document</title>
</head>

<body>
  <div class="nav">
    <h1 class="title"><a href="index.html">Library</a></h1>
    <ul class="nav-wrap">
      <li class="nav-list"><a class="nav-anchor" href="Tab.html">Tab</a></li>
      <li class="nav-list"><a class="nav-anchor" href="Modal.html">Modal</a></li>
      <li class="nav-list"><a class="nav-anchor" href="Tooltip.html">Tooltip</a></li>
      <li class="nav-list"><a class="nav-anchor" href="Slide.html">Slide</a></li>
      <li class="nav-list"><a class="nav-anchor" href="Sort.html">Sort</a></li>
      <li class="nav-list"><a class="nav-anchor active" href="Accordion.html">Accordion</a></li>
    </ul>
  </div>
  <div class="content">
    <ul class="accordion">
      <li class="accordion-list">
        <a href="#" class="accordion-anchor" data-id="0">home</a>
        <ul class="depth">
          <li class="depth-list"><a href="#" class="depth-anchor">accordion menu2</a></li>
          <li class="depth-list"><a href="#" class="depth-anchor">accordion menu2</a></li>
        </ul>
      </li>
      <li class="accordion-list">
        <a href="#" class="accordion-anchor" data-id="1">about</a>
        <ul class="depth">
          <li class="depth-list"><a href="#" class="depth-anchor">accordion menu2</a></li>
          <li class="depth-list"><a href="#" class="depth-anchor">accordion menu2</a></li>
          <li class="depth-list"><a href="#" class="depth-anchor">accordion menu2</a></li>
        </ul>
      </li>
      <li class="accordion-list">
        <a href="#" class="accordion-anchor" data-id="2">list</a>
        <ul class="depth">
          <li class="depth-list"><a href="#" class="depth-anchor">accordion menu2</a></li>
          <li class="depth-list"><a href="#" class="depth-anchor">accordion menu2</a></li>
          <li class="depth-list"><a href="#" class="depth-anchor">accordion menu2</a></li>
          <li class="depth-list"><a href="#" class="depth-anchor">accordion menu2</a></li>
          <li class="depth-list"><a href="#" class="depth-anchor">accordion menu2</a></li>
          <li class="depth-list"><a href="#" class="depth-anchor">accordion menu2</a></li>
        </ul>
      </li>
    </ul>
  </div>
  <script>
    const accordionBtn = document.querySelectorAll('.accordion-anchor');
    const depth = document.querySelectorAll('.depth');
    const elHeight = 51;

    function openAccordion(i) {
      const depthListHeight = depth[i].children.length;
      let classCheck = depth[i].classList.contains('active');
      // for (let j = 0; j < depth.length; j++) {
      //   depth[j].style.height = 0 + 'px';
      //   depth[j].classList.remove('active');
      // };

      if (classCheck) {
        depth[i].style.height = 0 + 'px';
        depth[i].classList.remove('active');
      } else {
        depth[i].style.height = (depthListHeight * elHeight) + 'px';
        depth[i].classList.add('active');
      }
    };
    accordionBtn.forEach((item) => {
      item.addEventListener('click', (e) => {
        openAccordion(e.target.getAttribute('data-id'));
      });
    });
  </script>
</body>

</html>